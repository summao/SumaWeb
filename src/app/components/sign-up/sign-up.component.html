<form class="card bg-gray text-white w-100" [formGroup]="fg" (ngSubmit)="onSubmit()" autocomplete="off">
  <div class="card-body">
    <h3>Sign up</h3>

    <!-- Email address -->
    <div>
      <label for="new-email" class="form-label">Email address</label>
      <input type="email" class="form-control" [class.is-valid]="email?.valid" [class.is-invalid]="email?.invalid && (email?.dirty || email?.touched)" id="new-email" placeholder="name@example.com" formControlName="email">
      <div *ngIf="email?.errors?.required && (email?.dirty || email?.touched)" class="invalid-feedback">Required</div>
      <div *ngIf="email?.errors?.maxlength && email?.dirty" class="invalid-feedback">Must less than 100 alphabets</div>
      <div *ngIf="email?.errors?.email && email?.dirty" class="invalid-feedback">Wrong email pettern</div>
    </div>

    <!-- New password -->
    <div class="mt-3">
      <label for="new-password" class="form-label">New password</label>
      <input type="text" class="form-control" [class.is-valid]="password?.valid" [class.is-invalid]="password?.invalid && (password?.dirty || password?.touched)" id="new-password" formControlName="password">
      <div *ngIf="password?.errors?.required && (password?.dirty || password?.touched)" class="invalid-feedback">Required</div>
      <div *ngIf="password?.errors?.minlength && password?.dirty" class="invalid-feedback">Must more than 6 alphabets</div>
      <div *ngIf="password?.errors?.maxlength && password?.dirty" class="invalid-feedback">Must less than 20 alphabets</div>
    </div>

    <!-- Profile name -->
    <div class="mt-3">
      <label for="profile-name" class="form-label">Profile name</label>
      <input type="text" class="form-control" [class.is-valid]="profileName?.valid" [class.is-invalid]="profileName?.invalid && (profileName?.dirty || profileName?.touched)" id="profile-name" formControlName="profileName">
      <small>Can change later.</small>
      <div *ngIf="profileName?.errors?.required && (profileName?.dirty || profileName?.touched)" class="invalid-feedback">Required</div>
      <div *ngIf="profileName?.errors?.maxlength && profileName?.dirty" class="invalid-feedback">Must less than 100 alphabets</div>
    </div>

    <!-- Username -->
    <label for="username" class="form-label mt-3">Username</label>
    <div class="input-group">
      <span class="input-group-text" id="at-sign">@</span>
      <input type="text" class="form-control" [class.is-valid]="username?.valid" [class.is-invalid]="username?.invalid && (username?.dirty || username?.touched)" id="username" formControlName="username" aria-describedby="at-sign">
    </div>
    <small>Can not change, small English alphabet and number only.</small>
    <div *ngIf="username?.errors?.required && (username?.dirty || username?.touched)" class="show-invalid-feedback invalid-feedback">Required</div>
    <div *ngIf="username?.errors?.maxlength && username?.dirty" class="show-invalid-feedback invalid-feedback">Must less than 30 alphabets</div>
    <div *ngIf="username?.errors?.pattern && username?.dirty" class="show-invalid-feedback invalid-feedback">Must be small alphabets or number</div>
      {{username?.errors?.required}}

    <!-- Date of birth -->
    <label for="date-of-birth" class="form-label mt-3 mb-0">Date of birth</label>
    <small style="display: block;">Will not be shown publicly.</small>
    <div class="row gx-2">

      <!-- Day -->
      <div class="col-12 col-sm-3">
        <label for="day" class="form-label">Day</label>
        <select id="day" class="form-select" [class.is-valid]="day?.valid" [class.is-invalid]="day?.invalid && (day?.dirty || day?.touched)" formControlName="day">
          <option value=""></option>
          <option *ngFor="let d of days" value="{{d}}">{{ d }}</option>
        </select>
        <div *ngIf="day?.errors?.required && (day?.dirty || day?.touched)" class="invalid-feedback">Required</div>
      </div>

      <!-- Month -->
      <div class="col-12 col-sm-5">
        <label for="month" class="form-label">Month</label>
        <select id="month" class="form-select" [class.is-valid]="month?.valid" [class.is-invalid]="month?.invalid && (month?.dirty || month?.touched)" formControlName="month">
          <option value=""></option>
          <option value="1">January</option>
          <option value="2">February</option>
          <option value="3">March</option>
          <option value="4">April</option>
          <option value="5">May</option>
          <option value="6">June</option>
          <option value="7">July</option>
          <option value="8">August</option>
          <option value="9">September</option>
          <option value="10">October</option>
          <option value="11">November</option>
          <option value="12">December</option>
        </select>
        <div *ngIf="month?.errors?.required && (month?.dirty || month?.touched)" class="invalid-feedback">Required</div>
      </div>

      <!-- Year -->
      <div class="col-12 col-sm-4">
        <label for="year" class="form-label">Year</label>
        <select id="year" class="form-select" [class.is-valid]="year?.valid" [class.is-invalid]="year?.invalid && (year?.dirty || year?.touched)" formControlName="year">
          <option value=""></option>
          <option *ngFor="let y of years" value="{{ y }}">{{ y }}</option>
        </select>
        <div *ngIf="year?.errors?.required && (year?.dirty || year?.touched)" class="invalid-feedback">Required</div>
      </div>
    </div>

    <!-- Sign up -->
    <div class="d-grid mt-4">
      <button type="submit" class="btn btn-primary" [disabled]="!fg.valid" >Sign up</button>
    </div>
  </div>
</form>